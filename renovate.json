{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended"
  ],
  "labels": [
    "dependencies"
  ],
  "separateMinorPatch": true,
  "platformAutomerge": true,
  "packageRules": [
    {
      "matchUpdateTypes": [
        "patch"
      ],
      "groupName": "all patch updates",
      "automerge": true,
      "automergeType": "pr",
      "automergeStrategy": "squash"
    },
    {
      "matchUpdateTypes": [
        "minor"
      ],
      "groupName": "all minor updates"
    },
    {
      "matchManagers": [
        "github-actions"
      ],
      "groupName": "GitHub Actions"
    },
    {
      "matchManagers": [
        "dockerfile",
        "docker-compose"
      ],
      "groupName": "Docker"
    },
    {
      "description": "PostgreSQL - minor and patch only (major requires manual migration)",
      "matchManagers": [
        "dockerfile",
        "docker-compose"
      ],
      "matchPackageNames": [
        "postgres"
      ],
      "matchUpdateTypes": [
        "major"
      ],
      "enabled": false
    },
    {
      "description": "Directus docker image",
      "matchManagers": [
        "dockerfile",
        "docker-compose"
      ],
      "matchPackageNames": [
        "directus/directus"
      ],
      "groupName": "Directus"
    },
    {
      "groupName": "React & Next.js",
      "matchPackageNames": [
        "next",
        "eslint-config-next",
        "next-themes",
        "/^react/",
        "/^@types/react/"
      ]
    },
    {
      "groupName": "Radix UI & Headless UI",
      "matchPackageNames": [
        "/^@radix-ui/",
        "/^@headlessui/"
      ]
    },
    {
      "groupName": "Tailwind CSS",
      "matchPackageNames": [
        "postcss",
        "/^tailwind/",
        "/^@tailwindcss/"
      ]
    },
    {
      "groupName": "Styling utilities",
      "matchPackageNames": [
        "clsx",
        "class-variance-authority",
        "tailwind-merge"
      ]
    },
    {
      "groupName": "Directus",
      "matchPackageNames": [
        "/^@directus/"
      ]
    },
    {
      "groupName": "Testing",
      "matchPackageNames": [
        "cross-env",
        "/playwright/",
        "/^@playwright/"
      ]
    },
    {
      "groupName": "Markdown & syntax highlighting",
      "matchPackageNames": [
        "unified",
        "shiki",
        "react-markdown",
        "/^rehype/",
        "/^remark/",
        "/^unist/"
      ]
    },
    {
      "groupName": "Code formatting",
      "matchPackageNames": [
        "/^prettier/",
        "/^eslint/",
        "!eslint-config-next"
      ]
    },
    {
      "description": "Ignore icon libraries",
      "matchPackageNames": [
        "lucide-react",
        "react-icons"
      ],
      "enabled": false
    }
  ],
  "schedule": [
    "before 5am on monday"
  ],
  "timezone": "Europe/Helsinki"
}
